{"version":3,"sources":["bot_green_heart.png","InputField.js","BotOutput.js","BotOutputs.js","QuickReply.js","QuickReplies.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","InputField","props","sayToBot","a","userInput","inputRef","current","value","axios","post","eddiApiUrl","input","res","conversationOutputs","data","length","conversationOutput","updateBotOutputs","keyPress","e","keyCode","PowerModeInput","make","this","height","tha","g","num","radius","circle","alpha","color","className","id","autoFocus","onKeyDown","autoComplete","ref","tabIndex","type","onClick","React","Component","BotOutput","wait","options","strings","output","text","speed","waitUntilVisible","lifeLike","cursor","afterComplete","startQuickReplyAnimation","BotOutputs","times","outputElements","outputs","map","index","arr","key","div","initial","exit","y","opacity","transition","duration","animate","QuickReply","setTextToInputField","quickReply","onClickQuickReply","removeQuickReplies","focus","onKeyPress","x","QuickReplies","quickReplyElements","quickReplies","ret","userId","uuidv4","App","context","loadConversationLog","get","setState","botOutputs","addIndex","elements","element","state","createRef","src","botIcon","alt","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.81249ade.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bot_green_heart.0100a92f.png\";","import PowerModeInput from \"power-mode-input\";\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\nimport {eddiApiUrl} from \"./App\";\r\n\r\nexport class InputField extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.inputRef = props.inputRef;\r\n    }\r\n\r\n    componentDidMount() {\r\n        PowerModeInput.make(this.inputRef.current, {\r\n            height: 2,\r\n            tha: [0, 360],\r\n            g: 0.1,\r\n            num: 1,\r\n            radius: 2,\r\n            circle: true,\r\n            alpha: [0.75, 0.1],\r\n            color: \"#67AB67\"\r\n        });\r\n    }\r\n\r\n    sayToBot = async () => {\r\n        let userInput = this.inputRef.current.value;\r\n        if (userInput !== '') {\r\n            let res = await axios.post(eddiApiUrl, {input: userInput});\r\n            let conversationOutputs = res.data.conversationOutputs;\r\n\r\n            if (conversationOutputs.length > 0) {\r\n                let conversationOutput = conversationOutputs[0];\r\n                this.props.updateBotOutputs(conversationOutput);\r\n            }\r\n\r\n            //reset inputField\r\n            this.inputRef.current.value = \"\";\r\n        }\r\n    };\r\n\r\n    keyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.sayToBot();\r\n        }\r\n    };\r\n\r\n    /*setStringToType = (instance) => {\r\n        console.log(\"setStringToType YEAH\");\r\n        instance.type(this.props.userInput);\r\n        return instance;\r\n    };*/\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"inputFieldContainer\">\r\n                <input id=\"userInputField\" autoFocus\r\n                       onKeyDown={this.keyPress}\r\n                       autoComplete=\"off\"\r\n                       ref={this.inputRef}\r\n                       className=\"inputField\"\r\n                       tabIndex={1}/>\r\n                <button type=\"submit\" onClick={this.sayToBot}>reply</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TypeIt from \"typeit-react\";\r\nimport Delay from \"react-delay\";\r\n\r\nexport class BotOutput extends React.Component {\r\n    render() {\r\n        return (\r\n            <span className=\"chatbotOutput\">\r\n                <Delay wait={1500}>\r\n                    <TypeIt options={{\r\n                        strings: [this.props.output.text],\r\n                        speed: 30,\r\n                        waitUntilVisible: true,\r\n                        lifeLike: true,\r\n                        cursor: false,\r\n                        afterComplete: this.props.startQuickReplyAnimation\r\n                    }}>\r\n                    </TypeIt>\r\n                </Delay>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {BotOutput} from \"./BotOutput\";\r\nimport Delay from \"react-delay/lib/Delay\";\r\nimport {AnimatePresence, motion} from \"framer-motion\";\r\n\r\nexport class BotOutputs extends React.Component {\r\n    render() {\r\n        let time = 3000;\r\n        let times = 0;\r\n        let outputElements =\r\n            this.props.outputs.map((output, index, arr) =>\r\n\r\n                <Delay key={output.index} wait={(time * times++)}>\r\n                    <motion.div initial={false} exit={{y: -300, opacity: 0}} transition={{duration: 0.5}}>\r\n                        <motion.div initial={{y: 300}} animate={{y: -100}} transition={{duration: 2}}>\r\n                            <BotOutput output={output}\r\n                                       startQuickReplyAnimation={index === arr.length - 1 ?\r\n                                           this.props.startQuickReplyAnimation : () => {}}/>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                </Delay>\r\n            );\r\n\r\n        return (\r\n            <span className=\"botOutputsContainer\">\r\n                <AnimatePresence>\r\n                    {outputElements}\r\n                </AnimatePresence>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {motion} from \"framer-motion\";\r\n\r\nexport class QuickReply extends React.Component {\r\n\r\n    setTextToInputField = () => {\r\n        this.props.inputRef.current.value = this.props.quickReply.value;\r\n    };\r\n\r\n    onClickQuickReply = () => {\r\n        this.setTextToInputField();\r\n        this.props.removeQuickReplies();\r\n        this.props.inputRef.current.focus();\r\n    };\r\n\r\n    onKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.onClickQuickReply();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <motion.div initial={{x: 200, opacity: 0}}\r\n                        animate={{x: 0, opacity: 1}}\r\n                        transition={{duration: 0.5}}\r\n                        className=\"containerEunit\"\r\n                        tabIndex={this.props.tabIndex}\r\n                        onKeyDown={this.onKeyPress}>\r\n                    <span className=\"quickReply\" onClick={this.onClickQuickReply}>\r\n                        {this.props.quickReply.value}\r\n                    </span>\r\n            </motion.div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {QuickReply} from \"./QuickReply\";\r\nimport Delay from \"react-delay/lib/Delay\";\r\n\r\nexport class QuickReplies extends React.Component {\r\n    render() {\r\n        let time = 200;\r\n        let times = 1;\r\n        let quickReplyElements = this.props.quickReplies.map((quickReply, index) =>\r\n            <Delay key={quickReply.index} wait={time * times++}>\r\n                <QuickReply\r\n                    quickReply={quickReply}\r\n                    inputRef={this.props.inputRef}\r\n                    removeQuickReplies={this.props.removeQuickReplies}\r\n                    tabIndex={index+2}/>\r\n            </Delay>\r\n        );\r\n\r\n        let ret = <span/>;\r\n        if (this.props.startQuickReplyAnimation) {\r\n            ret =\r\n                <div className=\"quickReplyContainer\">\r\n                    {quickReplyElements}\r\n                </div>\r\n\r\n        }\r\n\r\n        return (ret);\r\n    }\r\n}\r\n","import React from 'react';\nimport axios from \"axios\";\nimport {v4 as uuidv4} from 'uuid';\n\nimport botIcon from './bot_green_heart.png';\nimport './App.css';\n\nimport {InputField} from \"./InputField\";\nimport {BotOutputs} from \"./BotOutputs\";\nimport {QuickReplies} from \"./QuickReplies\";\n\n\nexport let userId = uuidv4();\n\nexport const eddiApiUrl = `https://app.labs.ai/managedbots/partygrouping/${userId}`;\n\nlet index = 0;\n\nexport class App extends React.Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            userInput: \"\",\n            botOutputs: [],\n            quickReplies: [],\n            startQuickReplyAnimation: false\n        };\n\n        this.inputRef = React.createRef();\n    }\n\n    componentDidMount() {\n        this.loadConversationLog();\n    }\n\n    loadConversationLog = async () => {\n        let res = await axios.get(eddiApiUrl);\n        let conversationOutputs = res.data.conversationOutputs;\n\n        if (conversationOutputs.length > 0) {\n            let conversationOutput = conversationOutputs[0];\n\n            if (conversationOutput.output) {\n                this.setState({botOutputs: this.addIndex(conversationOutput.output)});\n            }\n\n            if (conversationOutput.quickReplies) {\n                this.setState({quickReplies: this.addIndex(conversationOutput.quickReplies)});\n            }\n        }\n    };\n\n    addIndex = (elements) => {\n        if (elements) {\n            return elements.map(element => ({\n                ...element,\n                index: index++,\n            }));\n        } else return [];\n    };\n\n    updateBotOutputs = (conversationOutput) => {\n        this.setState({botOutputs: this.addIndex(conversationOutput.output)});\n        this.setState({quickReplies: this.addIndex(conversationOutput.quickReplies)});\n    };\n\n    removeQuickReplies = () => {\n        this.setState({quickReplies: []});\n        this.setState({startQuickReplyAnimation: false});\n    };\n\n    startQuickReplyAnimation = () => {\n        this.setState({startQuickReplyAnimation: true});\n    };\n\n    render() {\n        return (\n            <div className=\"App\">\n                <img src={botIcon} className=\"botIcon\" alt=\"logo icon\"/>\n\n                <BotOutputs outputs={this.state.botOutputs}\n                            startQuickReplyAnimation={this.startQuickReplyAnimation}/>\n\n                <QuickReplies quickReplies={this.state.quickReplies}\n                              inputRef={this.inputRef}\n                              removeQuickReplies={this.removeQuickReplies}\n                              startQuickReplyAnimation={this.state.startQuickReplyAnimation}/>\n\n                <InputField inputRef={this.inputRef}\n                            userInput={this.state.userInput}\n                            updateBotOutputs={this.updateBotOutputs}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}